<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <title>hw_04</title>
    <link rel="stylesheet" href = "template.css">
    <style>
        .major {
            text-align:center;
            padding:20px;
        }
        .major img{
            width: 800px;
            margin-top:10px;
        }
        .minor {
            text-align:center;
        }
        .minorIMG {
            width: 100px;
            padding: 5px 5px 5px 5px;
            margin-bottom:15px;
        }
        .minorIMG_s {
            width: 100px;
            padding: 5px 5px 5px 5px;
            margin-bottom:15px;
            background-color: gray;
        }
        .button {
            text-align: center;
        }
        input {
            width: 80px;
            padding: 5px 5px 5px 5px;
            margin-bottom:15px;
        }
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            clock()
            imgs = document.querySelectorAll("img.minorIMG");
            for (var i = 0; i < imgs.length; i++){
                imgs[i].addEventListener("mouseover", stopPlay);
                imgs[i].addEventListener("mouseover", mouseOver);
                imgs[i].addEventListener("mouseout", mouseOut);
            }
            document.getElementById("pre").addEventListener("click", pre)
            document.getElementById("post").addEventListener("click", post)
            document.getElementById("pause").addEventListener("click", pause)
        });
        function clock() {
            i = 0
            Interval = setInterval(autoplay, 2000)
        }
        function autoplay() {
            var country = new Array ("Taiwan", "Japan", "Korea", "Australia", "Egypt", "Italy", "USA")
            if (i < country.length) {i++}
            else {i = 0}
            if (i < country.length){
                document.getElementById("txtMajor").textContent = country[i];
                document.getElementById("aMajor").href = "https://en.wikipedia.org/wiki/" + country[i];
                document.getElementById("imgMajor").src = "Images/" + country[i] + ".jpg";
                document.getElementById("id" + country[i]).className = "minorIMG_s";
                if (i == 0) {
                document.getElementById("id" + country[country.length-1]).className = "minorIMG"}
                else {
                document.getElementById("id" + country[i-1]).className = "minorIMG"};
            }
        }
        function stopPlay() {
            clearInterval(Interval);
            var m = document.getElementById("minor");
            var m_img = m.getElementsByTagName("img");
            for (var i = 0; i < m_img.length; i++){
                m_img[i].className = "minorIMG"
            }
        }
        function mouseOver() {
            document.getElementById("txtMajor").textContent = this.id.substr(2);
            document.getElementById("aMajor").href = "https://en.wikipedia.org/wiki/" + this.id.substr(2)
            document.getElementById("imgMajor").src = "Images/" + this.id.substr(2) + ".jpg";
            this.className = "minorIMG_s";
        }
        function mouseOut() {
            var country = new Array ("Taiwan", "Japan", "Korea", "Australia", "Egypt", "Italy", "USA")
            i = country.indexOf(this.id.substr(2))
            Interval = setInterval(autoplay, 2000)
        }
        function pause() {
            if (this.value == "pause"){
            clearInterval(Interval);
            document.getElementById("pause").value = "start";}
            else {
            Interval = setInterval(autoplay, 2000)
            document.getElementById("pause").value = "pause";}
        }
        function pre() {
            clearInterval(Interval)
            var country = new Array ("Taiwan", "Japan", "Korea", "Australia", "Egypt", "Italy", "USA")
            t = document.getElementsByClassName("minorIMG_s")[0].id
            i = country.indexOf(t.substr(2))
            document.getElementById("id" + country[i]).className = "minorIMG";
            if (i == 0){i = country.length - 1}
            else {i = i - 1}
            document.getElementById("txtMajor").textContent = country[i];
            document.getElementById("aMajor").href = "https://en.wikipedia.org/wiki/" + country[i];
            document.getElementById("imgMajor").src = "Images/" + country[i] + ".jpg";
            document.getElementById("id" + country[i]).className = "minorIMG_s";
            document.getElementById("pause").value = "start";
        }
        function post() {
            clearInterval(Interval)
            var country = new Array ("Taiwan", "Japan", "Korea", "Australia", "Egypt", "Italy", "USA")
            t = document.getElementsByClassName("minorIMG_s")[0].id
            i = country.indexOf(t.substr(2))
            document.getElementById("id" + country[i]).className = "minorIMG";
            if (i == country.length -1){i = 0}
            else {i = i + 1}
            document.getElementById("txtMajor").textContent = country[i];
            document.getElementById("aMajor").href = "https://en.wikipedia.org/wiki/" + country[i];
            document.getElementById("imgMajor").src = "Images/" + country[i] + ".jpg";
            document.getElementById("id" + country[i]).className = "minorIMG_s";
            document.getElementById("pause").value = "start";
        }
    </script>
</head>
<div class = "allpage">
    <header>
        <div class = "title">
            <h2>AIEN0215 -- Lin, YiHsuan</h2>
            <h4 class = "date"> May, 2018</h4>
        </div>
        <nav>
            <ul>
                <li><a href = "hw_01.html">hw_1 -- 九九乘法表</a></li>
                <li><a href = "hw_02.html">hw_2 -- 表單驗證</a></li>
                <li><a href = "hw_03.html">hw_3 -- 星星評分</a></li>
                <li><a href = "hw_04.html">hw_4 -- 廣告輪播</a></li>
                <li><a href = "hw_05.html">hw_5 -- 日曆製作</a></li>
            </ul>  
        </nav>
    </header>
    <div class = "content">
        <div class = "major">
            <h2 id = "txtMajor">Taiwan</h2>
            <a href = "https://en.wikipedia.org/wiki/Taiwan" id = "aMajor">
            <img alt = "Taiwan" src = "Images/Taiwan.jpg" id = "imgMajor">
            </a>
        </div>
        <div class = "minor" id = "minor">
            <img class = "minorIMG_s" alt = "Taiwan" src = "Images/Taiwan.jpg" id = "idTaiwan">
            <img class = "minorIMG" alt = "Japan" src = "Images/Japan.jpg" id = "idJapan">
            <img class = "minorIMG" alt = "Korea" src = "Images/Korea.jpg" id = "idKorea">
            <img class = "minorIMG" alt = "Australia" src = "Images/Australia.jpg" id = "idAustralia">
            <img class = "minorIMG" alt = "Egypt" src = "Images/Egypt.jpg" id = "idEgypt">
            <img class = "minorIMG" alt = "Italy" src = "Images/Italy.jpg" id = "idItaly">
            <img class = "minorIMG" alt = "USA" src = "Images/USA.jpg" id = "idUSA">
        </div>
        <div class = "button" id = "button">
            <input type = "button" id = "pre" value = "<<">
            <input type = "button" id = "pause" value = "pause">
            <input type = "button" id = "post" value = ">>">

        </div>
    </div>
    <footer>
        <h4 class = "contact"> e-mail : b01204002@gmail.com</h4>
    </footer>
</div>
</html>